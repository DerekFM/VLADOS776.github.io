var win;var winNumber=35;var inventory=[];var inventory_length=0;var inventory_step=50,inventory_loading=false;var caseOpenAudio=new Audio();caseOpenAudio.src="../sound/open.wav";caseOpenAudio.volume=0.2;var caseCloseAudio=new Audio();caseCloseAudio.src="../sound/close.wav";caseCloseAudio.volume=0.2;var caseScrollAudio=new Audio();caseScrollAudio.src="../sound/scroll.wav";caseScrollAudio.playbackRate=1;caseScrollAudio.volume=0.2;$(function(){if(!isAndroid()){inventory=getInventory()}});window.onerror=function(i,f,c,e,d){if(f){var b=f.split("/");var g=b[b.length-1]}else{g="none.js"}extra=":"+c;extra+=!e?"":":"+e;var h=i+" | "+g+extra;if(isAndroid()){client.sendToAnalytics("Error","Error",h,f)}$(document.body).append('<div class="error-log">'+h+"</div")};function statisticPlusOne(d){if(isAndroid()){var c=client.getStatistic(d);c=parseInt(c);if(isNaN(c)){c=0}client.saveStatistic(d,c+1)}else{var b=$.cookie(d,Number);if(typeof b=="undefined"){b=0}else{b=parseInt(b)}b++;$.cookie(d,b)}}function saveStatistic(a,c,b){if(typeof b!="undefined"){switch(b){case"Number":if(typeof c=="string"){c=c.replace(/\$/g,"")}c=parseInt(c);break;case"Float":c=parseFloat(c);break}}console.log("Save stat "+a+": "+c+" type: "+b);if(isAndroid()){client.saveStatistic(a,""+c)}else{$.cookie(a,c)}}function getStatistic(b,c){c=c||0;if(isAndroid()){var a=client.getStatistic(b);return a=="0"?c:a}else{return $.cookie(b)||c}}function saveInventory(){if(typeof localStorage!="undefined"&&localStorage!=null){localStorage.clear()}localStorage["inventory.count"]=inventory.length;for(var a=0;a<inventory.length;a++){localStorage["inventory.item."+a+".type"]=inventory[a].type;localStorage["inventory.item."+a+".skinName"]=inventory[a].skinName;localStorage["inventory.item."+a+".rarity"]=inventory[a].rarity;localStorage["inventory.item."+a+".img"]=inventory[a].img;localStorage["inventory.item."+a+".quality"]=inventory[a].quality;localStorage["inventory.item."+a+".statTrak"]=inventory[a].statTrak;localStorage["inventory.item."+a+".price"]=inventory[a].price;localStorage["inventory.item."+a+".new"]=inventory[a]["new"]}}function saveWeapon(a){if(isAndroid()){var b=client.saveWeapon(a.type,a.skinName,a.img,a.quality,a.statTrak,a.rarity,a.price,a["new"])}}function updateWeapon(a){if(isAndroid()){var b=client.updateWeapon(a.id,a.type,a.skinName,a.img,a.quality,a.statTrak,a.rarity,a.price,a["new"])}}function getWeapon(a){if(isAndroid()){return $.parseJSON(client.getWeaponById(a))[0]}}function deleteWeapon(a){if(isAndroid()){client.deleteWeapon(a)}}function getInventory(a,c,b){if(typeof b=="undefined"){b=""}a=a||1;if(typeof c=="undefined"&&isAndroid()){c=client.getInventoryLength("")}if(c<=0){return false}if(isAndroid()){return _getInventoryAndroid(a,c,b)}else{return _getInventoryLocalStorage()}}function fromLocalStorageToDB(){if(typeof localStorage=="undefined"||localStorage.length==0||!isAndroid()){return false}var d=parseInt(localStorage["inventory.count"],10);for(var b=0;b<d;b++){var a;var c={};c.type=localStorage["inventory.item."+b+".type"];if(typeof c.type=="undefined"){continue}c.skinName=getSkinName(localStorage["inventory.item."+b+".skinName"],Settings.language);c.rarity=localStorage["inventory.item."+b+".rarity"];c.img=localStorage["inventory.item."+b+".img"];c.quality=localStorage["inventory.item."+b+".quality"];a=localStorage["inventory.item."+b+".statTrak"];c.price=Number(localStorage["inventory.item."+b+".price"]);c["new"]=localStorage["inventory.item."+b+".new"];if((a=="true")||(a=="1")){c.statTrak=true}else{c.statTrak=false}if((c["new"]=="true")||(c["new"]=="1")){c["new"]=true}else{c["new"]=false}saveWeapon(c)}localStorage.clear();return true}function _getInventoryAndroid(b,d,c){var a=client.getInventory(b,d,c);try{a=$.parseJSON(a)}catch(f){client.deleteAllInventory()}if(a.length==0){return false}inventory_length=client.getInventoryLength(c);if(typeof a[0].error!="undefined"){return[]}return a}function _getInventoryLocalStorage(){if(typeof localStorage=="undefined"){return false}var a=[];count=0;try{count=parseInt(localStorage["inventory.count"],10)}catch(g){count=0}var b=0;for(var d=0;d<count;d++){var c;var f={};f.type=localStorage["inventory.item."+d+".type"];if(typeof f.type=="undefined"){continue}f.skinName=localStorage["inventory.item."+d+".skinName"];f.rarity=localStorage["inventory.item."+d+".rarity"];f.img=localStorage["inventory.item."+d+".img"];f.quality=localStorage["inventory.item."+d+".quality"];c=localStorage["inventory.item."+d+".statTrak"];f.price=Number(localStorage["inventory.item."+d+".price"]);f["new"]=localStorage["inventory.item."+d+".new"];if((c=="true")||(c=="1")){f.statTrak=true}else{f.statTrak=false}if((f["new"]=="true")||(f["new"]=="1")){f["new"]=true;b++}else{f["new"]=false}a.push(f)}if(b){menuNotification("inventory",""+b)}inventory_length=a.length;return a}function getInventoryCost(a){a=a||"";if(isAndroid()){return client.getInventoryCost(a)}else{return 0}}function checkInventoryForNotification(){var b=0;if(isAndroid()){b=client.getInventoryLength("WHERE isNew = 'true'")}else{if(typeof localStorage=="undefined"){return false}var d=parseInt(localStorage["inventory.count"],10);for(var c=0;c<d;c++){var a=localStorage["inventory.item."+c+".new"];if((a=="true")||(a=="1")){b++}}}if(b){menuNotification("inventory",""+b)}}function menuNotification(a,b){switch(a){case"inventory":if($("#local-menu-inventory .menu-notification").length){$("#local-menu-inventory .menu-notification").text(b)}else{$("#local-menu-inventory").append('<span class="menu-notification">'+b+"</span>")}break;default:break}}function deleteMenuNotification(a){switch(a){case"inventory":$("#local-menu-inventory .menu-notification").remove();break;default:break}}function getCollection(c,a){var e="";c=c.replace(/Souvenir/g,"Сувенир");for(var b=0;b<cases.length;b++){for(var d=0;d<cases[b].weapons.length;d++){if((cases[b].weapons[d].type==c)&&(getSkinName(cases[b].weapons[d].skinName,"EN")==a)){e=cases[b];break}}if(typeof e!="undefined"&&e!=""){break}}return e}function getWeaponImg(d,a){d=d.replace(/Souvenir/g,"Сувенир");a=getSkinName(a);var c=getCollection(d,a);if(!c){return"none.png"}for(var b=0;b<c.weapons.length;b++){if(c.weapons[b].type==d&&getSkinName(c.weapons[b].skinName)==a){return c.weapons[b].img}}}function getWeaponRarity(d,a){a=getSkinName(a);d=d.replace(/Souvenir/g,"Сувенир");var c=getCollection(d,a);for(var b=0;b<c.weapons.length;b++){if(c.weapons[b].type==d&&getSkinName(c.weapons[b].skinName)==a){return c.weapons[b].rarity}}}function getImgUrl(b,a){if(b.indexOf("images/")!=-1){if(typeof a!="undefined"){return b.replace("125fx125f","383fx383f")}else{return b}}else{if(b.indexOf(".png")!=-1){return"../images/Weapons/"+b}else{if(b.indexOf("steamcommunity")==-1){if(typeof a!="undefined"){return prefix+b+postfixBig}else{return prefix+b+postfix}}else{if(typeof a!="undefined"){return b.replace("125fx125f","383fx383f")}else{return b}}}}}function changeLocation(a){window.location=a}function parseURLParams(a){var h=a.indexOf("?")+1,b=a.indexOf("#")+1||a.length+1,g=a.slice(h,b-1),c=g.replace(/\+/g," ").split("&"),j={},e,d,k,f;if(g===a||g===""){return}for(e=0;e<c.length;e++){f=c[e].split("=");d=decodeURIComponent(f[0]);k=decodeURIComponent(f[1]);if(!j.hasOwnProperty(d)){j[d]=[]}j[d].push(f.length===2?k:null)}return j}var Cheats={winEveryTime:"85d9a0e47f087eaea49348f1af267d40"};function getURLParameter(a){return decodeURIComponent((new RegExp("[?|&]"+a+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null}function isAndroid(){try{var b=client.isAndroid();return true}catch(c){return false}}Array.prototype.shuffle=function(){var d=this;for(var b,a,c=d.length;c;b=Math.floor(Math.random()*c),a=d[--c],d[c]=d[b],d[b]=a){}return d};Array.prototype.mul=function(a){var c=[];for(var b=0;b<a;++b){c=c.concat(this.slice(0))}return c};Math.rand=function getRandomInt(b,a){return Math.floor(Math.random()*(a-b+1))+b};